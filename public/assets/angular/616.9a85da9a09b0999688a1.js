(self.webpackChunkangular=self.webpackChunkangular||[]).push([[616],{2616:(t,i,n)=>{"use strict";n.r(i),n.d(i,{TicketsModule:()=>b});var e=n(8583),c=n(4466),o=n(1841),s=n(665),r=n(3423),a=n(7278),l=n(2340),g=n(7716),p=n(6854),u=n(2323),d=n(9936),f=n(8424);function Z(t,i){if(1&t&&(g.TgZ(0,"p",18),g._uU(1),g.qZA()),2&t){const t=g.oxw().$implicit;g.xp6(1),g.AsE("",t.name," ",t.lastname,"")}}function x(t,i){if(1&t&&(g.TgZ(0,"p",18),g._uU(1),g.qZA()),2&t){const t=g.oxw().$implicit;g.xp6(1),g.hij("S/ ",t.price,"")}}function h(t,i){1&t&&(g.TgZ(0,"div",19),g._uU(1," CONFIRMADO "),g.qZA())}const m=function(t){return["/validate-token",t]};function k(t,i){if(1&t&&(g.TgZ(0,"section",8),g.TgZ(1,"a",9),g.TgZ(2,"div",10),g.TgZ(3,"div",11),g._UZ(4,"img",12),g.qZA(),g.TgZ(5,"div",13),g.TgZ(6,"div",14),g.TgZ(7,"p"),g._uU(8),g.qZA(),g.TgZ(9,"h5",15),g._uU(10),g.qZA(),g.YNc(11,Z,2,2,"p",16),g.YNc(12,x,2,1,"p",16),g.YNc(13,h,2,0,"div",17),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){const t=i.$implicit,n=g.oxw(2);g.xp6(1),g.Q6J("routerLink",g.VKq(7,m,t.id)),g.xp6(3),g.Q6J("src",n.routeStorage+"/"+t.event_path,g.LSH),g.xp6(4),g.hij("N\xb0 ",t.ticket,""),g.xp6(2),g.Oqu(t.event_title),g.xp6(1),g.Q6J("ngIf",n.user.isadmin),g.xp6(1),g.Q6J("ngIf",!n.user.isadmin),g.xp6(1),g.Q6J("ngIf",1==t.confirm)}}function A(t,i){1&t&&(g.TgZ(0,"section",20),g.TgZ(1,"h2"),g._uU(2,"No tiene Tickets"),g.qZA(),g.qZA())}function T(t,i){if(1&t&&(g.TgZ(0,"div",5),g.YNc(1,k,14,9,"section",6),g.YNc(2,A,3,0,"section",7),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Q6J("ngForOf",t.tickets),g.xp6(1),g.Q6J("ngIf",0==t.tickets.length)}}const v=[{path:"",component:(()=>{class t{constructor(t,i){this.orderService=t,this.storageService=i,this.tickets=[],this.routeStorage=l.N.storageUrl,this.loading=!0,this.user=this.storageService.getUser()}ngOnInit(){this.getAllTickets(0)}onChangeTab(t){console.log(),this.getAllTickets(t.index)}getAllTickets(t){this.loading=!0,this.orderService.getTickets(t).subscribe(t=>{this.loading=!1,this.tickets=t},t=>{this.loading=!1})}}return t.\u0275fac=function(i){return new(i||t)(g.Y36(p.p),g.Y36(u.V))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-tickets"]],decls:8,vars:2,consts:[["nz-row","",1,"pt-2"],["nz-col","","nzSpan","24",1,"px-3","text-center","mb-1","mt-2"],["nz-row","",1,"pt-4"],["nz-col","","nzSpan","24","class","px-3",4,"ngIf"],[3,"loading"],["nz-col","","nzSpan","24",1,"px-3"],["class","bg-white mb-3",4,"ngFor","ngForOf"],["class","d-flex  justify-content-center",4,"ngIf"],[1,"bg-white","mb-3"],[1,"lh-1","d-block",3,"routerLink"],["nz-row","",1,"align-items-center"],["nz-col","","nzSpan","8",1,"h-100"],["alt","",1,"img-fluid",3,"src"],["nz-col","","nzSpan","16",1,"py-3","px-3"],[1,"d-flex","flex-column","position-relative"],[1,"mb-2","lh-1"],["class","text-uppercase text-dark",4,"ngIf"],["class","position-absolute confirm-ticket",4,"ngIf"],[1,"text-uppercase","text-dark"],[1,"position-absolute","confirm-ticket"],[1,"d-flex","justify-content-center"]],template:function(t,i){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h1"),g._uU(3,"Mis tickets"),g.qZA(),g.qZA(),g.TgZ(4,"div",2),g.YNc(5,T,3,2,"div",3),g.qZA(),g.TgZ(6,"div",1),g._UZ(7,"app-loading",4),g.qZA(),g.qZA()),2&t&&(g.xp6(5),g.Q6J("ngIf",!i.loading),g.xp6(2),g.Q6J("loading",i.loading))},directives:[d.SK,d.t3,e.O5,f.N,e.sg,r.yS],styles:[".confirm-ticket[_ngcontent-%COMP%]{border:2px solid #000;background-color:var(--tipme-yellow);padding:3px;bottom:-8px;right:0;font-size:10px}"]}),t})(),canActivate:[a.P]}];let q=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[r.Bz.forChild(v)],r.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[e.ez,c.m,o.JF,s.u5,s.UX,q]]}),t})()}}]);