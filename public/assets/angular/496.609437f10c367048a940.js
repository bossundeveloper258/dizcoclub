(self.webpackChunkangular=self.webpackChunkangular||[]).push([[496],{2496:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ValidateTokenModule:()=>A});var i=n(8583),o=n(3423),s=n(7278),c=n(2340),l=n(7716),r=n(6854),a=n(2323),u=n(1947),d=n(8424),p=n(9936),g=n(6175),h=n(6277),Z=n(8429),m=n(1425);function k(t,e){1&t&&l._UZ(0,"i",28)}function x(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",10),l.TgZ(1,"button",26),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).confirm()}),l.YNc(2,k,1,0,"i",27),l._uU(3," CONFIRMAR ASISTENCIA "),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(1),l.Q6J("nzType","dashed")("disabled",t.loadingBtn),l.xp6(1),l.Q6J("ngIf",t.loadingBtn)}}const f=function(){return["/tickets"]};function v(t,e){if(1&t&&(l.TgZ(0,"div",3),l.TgZ(1,"div",4),l.TgZ(2,"div",5),l.TgZ(3,"div",6),l.TgZ(4,"div",7),l.TgZ(5,"a",8),l._UZ(6,"img",9),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",10),l.TgZ(8,"h5",11),l._uU(9),l.qZA(),l.qZA(),l.TgZ(10,"div",10),l._UZ(11,"img",12),l.qZA(),l.TgZ(12,"div",10),l.TgZ(13,"p",13),l._uU(14,"NOMBRES"),l.qZA(),l.TgZ(15,"p",14),l._uU(16),l.qZA(),l.TgZ(17,"p",13),l._uU(18,"DNI"),l.qZA(),l.TgZ(19,"p",15),l._uU(20),l.qZA(),l.qZA(),l.TgZ(21,"div",16),l._UZ(22,"hr",17),l.qZA(),l.TgZ(23,"div",18),l.TgZ(24,"div",19),l._UZ(25,"img",20),l.qZA(),l.qZA(),l.TgZ(26,"div",21),l.TgZ(27,"h5",22),l._uU(28),l.qZA(),l.TgZ(29,"p",23),l._uU(30),l.ALo(31,"date"),l.qZA(),l.TgZ(32,"p",24),l._uU(33),l.qZA(),l.qZA(),l.YNc(34,x,4,3,"div",25),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(5),l.Q6J("routerLink",l.DdM(15,f)),l.xp6(1),l.Q6J("src",t.routeAsset+"/assets/img/close.png",l.LSH),l.xp6(3),l.hij("TICKET N\xb0",null==t.ticket?null:t.ticket.ticket,""),l.xp6(2),l.Q6J("src",t.host+"/"+(null==t.ticket?null:t.ticket.qr_path),l.LSH),l.xp6(5),l.AsE("",null==t.ticket?null:t.ticket.name," ",null==t.ticket?null:t.ticket.lastname,""),l.xp6(4),l.Oqu(null==t.ticket?null:t.ticket.dni),l.xp6(5),l.Q6J("src",t.routeStorage+"/"+(null==t.ticket?null:t.ticket.event_path),l.LSH),l.xp6(3),l.Oqu(null==t.ticket?null:t.ticket.event_title),l.xp6(2),l.Oqu(l.xi3(31,12,null==t.ticket?null:t.ticket.event_date,"dd 'de' MMMM 'de' YYYY")),l.xp6(3),l.Oqu(null==t.ticket?null:t.ticket.event_time),l.xp6(1),l.Q6J("ngIf",(null==t.user?null:t.user.isadmin)&&!(null!=t.ticket&&t.ticket.assist))}}const b=[{path:":token",component:(()=>{class t{constructor(t,e,n,i,o){this.orderService=t,this.activatedRoute=e,this.storageService=n,this.modalService=i,this.router=o,this.routeAsset=c.N.assetsUrl,this.host=c.N.urlHost,this.routeStorage=c.N.storageUrl,this.loadingBtn=!1,this.loading=!0,this.user=this.storageService.getUser(),this.activatedRoute.paramMap.subscribe(t=>{var e;this.token=null!==(e=t.get("token"))&&void 0!==e?e:""})}ngOnInit(){this.orderService.getTicketByToken(this.token).subscribe(t=>{this.ticket=t[0],this.loading=!1},t=>{this.modalService.error({nzTitle:"Error",nzContent:t.message,nzOkText:"Aceptar",nzOnOk:()=>{this.router.navigate(["/"])}})})}confirm(){this.loadingBtn=!0,this.orderService.postConfirmAssist(this.token).subscribe(t=>{this.loadingBtn=!1,this.modalService.success({nzTitle:"Confirmaci\xf3n",nzContent:"Se confirmo la asistencia",nzClosable:!1,nzOkText:"Aceptar",nzOnOk:()=>{this.router.navigate(["/"])}})},t=>{this.loadingBtn=!1,this.modalService.error({nzTitle:"Error",nzContent:t.message})})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(r.p),l.Y36(o.gz),l.Y36(a.V),l.Y36(u.Sf),l.Y36(o.F0))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-validate-token"]],decls:3,vars:2,consts:[[1,"margin-auto",2,"background-color","#ff4f89","min-height","100vh"],["nz-row","","class","background-home pt-4","style","max-width: 550px;margin: 0 auto;",4,"ngIf"],[3,"loading"],["nz-row","",1,"background-home","pt-4",2,"max-width","550px","margin","0 auto"],["nz-col","","nzSpan","24",1,""],["nz-row",""],["nz-col","","nzSpan","24",1,"text-end","mb-3"],[1,"d-flex","justify-content-end","px-4"],[1,"circle-close",3,"routerLink"],["alt","","width","10px",3,"src"],["nz-col","","nzSpan","24",1,"text-center","mb-3"],[1,"text-white"],["alt","","width","200px",3,"src"],[1,"text-white","mb-1","fw-bold","fs-6"],[1,"text-white","mb-4d","fs-6"],[1,"text-white","mb-4","fs-6"],["nz-col","","nzSpan","24",1,"text-center","mb-2","px-5"],[1,"bg-white"],["nz-col","","nzSpan","24",1,"text-center","mb-3","pt-3"],[1,"bg-white","p-2","position-relative","d-inline-block"],["alt","","width","150px",3,"src"],["nz-col","","nzSpan","24",1,"text-center","mb-3","px-5"],[1,"text-white","mb-3","fw-bold"],[1,"text-white","mb-2","fw-bold"],[1,"text-white","mb-1","fw-bold"],["nz-col","","nzSpan","24","class","text-center mb-3",4,"ngIf"],["nz-button","",1,"btn","w-100","py-3","mt-5","mb-4",3,"nzType","disabled","click"],["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.YNc(1,v,35,16,"div",1),l._UZ(2,"app-loading",2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!e.loading),l.xp6(1),l.Q6J("loading",e.loading))},directives:[i.O5,d.N,p.SK,p.t3,o.yS,g.ix,h.dQ,Z.w,m.Ls],pipes:[i.uU],styles:[".circle-close[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;border-radius:50%;padding:6px 10px}"]}),t})(),canActivate:[s.P]}];let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.Bz.forChild(b)],o.Bz]}),t})();var T=n(4466);let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.ez,T.m,z]]}),t})()}}]);